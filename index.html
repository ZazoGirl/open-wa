<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <title>פתיחת קישור WhatsApp</title>
</head>
<body style="direction: rtl; font-family: Arial; text-align: center; margin-top: 50px;">

    <h2>פתיחת קישור WhatsApp</h2>
    <input type="text" id="phoneNumber" placeholder="הקלידי מספר טלפון" style="padding: 10px; width: 250px;">
    <br><br>
    <button onclick="openWhatsApp()" style="padding: 10px 20px; cursor: pointer;">
        פתחי WhatsApp
    </button>

<script>
function openWhatsApp() {
    const input = document.getElementById('phoneNumber');
    let phoneNumber = input.value.trim();

    if (phoneNumber === '') {
        alert('הכניסי מספר טלפון קודם.');
        return;
    }

    // מנקה רווחים, מקפים, סוגריים ותווים מיוחדים לא רצויים
    phoneNumber = phoneNumber.replace(/[\s\-\(\)]/g, '');

    // ממירה הכל לאותיות קטנות כדי למנוע בעיות
    phoneNumber = phoneNumber.toLowerCase();

    // אם כבר מתחיל ב+972 → משאיר כמו שהוא
    if (/^\+972/.test(phoneNumber)) {
        // כלום
    }
    // אם מתחיל ב-972 בלי + → מוסיפה +
    else if (/^972/.test(phoneNumber)) {
        phoneNumber = '+' + phoneNumber;
    }
    // אחרת – מוסיפה +972
    else {
        phoneNumber = '+972' + phoneNumber;
    }

    const url = `https://wa.me/${phoneNumber}`;
    window.open(url, '_blank');
    input.value = '';
}
</script>



</body>
</html>
