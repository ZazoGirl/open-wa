<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <title>פתיחת קישור WhatsApp</title>
</head>
<body style="direction: rtl; font-family: Arial; text-align: center; margin-top: 50px;">

    <h2>פתיחת קישור WhatsApp</h2>
    <input type="text" id="phoneNumber" placeholder="הקלידי מספר טלפון" style="padding: 10px; width: 250px;">
    <br><br>
    <button onclick="openWhatsApp()" style="padding: 10px 20px; cursor: pointer;">
        פתחי WhatsApp
    </button>

    <script>
function openWhatsApp() {
    const input = document.getElementById('phoneNumber');
    let phoneNumber = input.value.trim();

    if (phoneNumber === '') {
        alert('הכניסי מספר טלפון קודם.');
        return;
    }

    // מסיר רווחים, מקפים וסוגריים
    phoneNumber = phoneNumber.replace(/[\s\-()]/g, '');

    // אם מתחיל ב+972 → לא נוגעת
    if (phoneNumber.startsWith('+972')) {
        // כלום
    }
    // אם מתחיל ב-972 בלי + → מוסיפה +
    else if (phoneNumber.startsWith('972')) {
        phoneNumber = '+' + phoneNumber;
    }
    // אחרת – מוסיפה +972
    else {
        phoneNumber = '+972' + phoneNumber;
    }

    const url = `https://wa.me/${phoneNumber}`;
    window.open(url, '_blank');
    input.value = '';
}
</script>


</body>
</html>
